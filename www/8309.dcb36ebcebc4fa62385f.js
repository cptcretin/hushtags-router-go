(self.webpackChunkhushtags_app=self.webpackChunkhushtags_app||[]).push([[8309],{8309:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HelpPageModule:()=>O});var o=n(8583),i=n(3679),s=n(3083),a=n(1210),l=n(8252),r=n(5642),g=n(8069),c=n(4762),p=n(4402),m=n(9193),h=n(3190),u=n(5304),d=n(639),_=n(8971),Z=n(5887),M=n(7927),f=n(2235),A=n(1363),T=n(1514);let P=(()=>{class e{constructor(e,t,n,o,i,s,a,l,r){this.api=e,this.alert=t,this.log=n,this.ga=o,this.gps=i,this.dialog=s,this.nav=a,this.toast=l,this.translations=r,this.referer="/",this.name="",this.email="",this.subject="",this.message="",this.translations.ready([b.FormTitle,b.FormName,b.FormEmail,b.FormSubject,b.FormMessage,b.Alert_Missing_Title,b.Alert_Missing_Message,b.Toast_Sent,b.Button_OK]).then()}ngOnInit(){let e=this.nav.getCurrentNavigation();e.extras&&e.extras.state&&(this.log.trace("got state",e.extras.state),this.referer=e.extras.state.referer)}ionViewWillEnter(){this.ga.pageView(this.nav.url),this.recordHelpRequest()}back(){this.nav.navigate([this.referer])}send(){return(0,c.mG)(this,void 0,void 0,function*(){let e=(this.name||"").trim(),t=(this.email||"").trim(),n=(this.subject||"").trim(),o=(this.message||"").trim(),i=[];if(0===e.length&&i.push(`<li>${this.translations.get(b.FormName)}</li>`),0===t.length&&i.push(`<li>${this.translations.get(b.FormEmail)}</li>`),0===n.length&&i.push(`<li>${this.translations.get(b.FormSubject)}</li>`),0===o.length&&i.push(`<li>${this.translations.get(b.FormMessage)}</li>`),i.length>0){let e=`<ul>${i.join("")}</ul>`,t=yield this.alert.create({header:this.translations.get(b.Alert_Missing_Title),message:this.translations.get(b.Alert_Missing_Message).replace("{{missing}}",e),buttons:[{text:this.translations.get(b.Button_OK)}]});yield t.present()}else this.api.post("/help/request",{name:e,email:t,subject:n,message:o}).subscribe(()=>(0,c.mG)(this,void 0,void 0,function*(){let e=yield this.toast.create({message:this.translations.get(b.Toast_Sent),duration:2e3,animated:!0,translucent:!0});yield e.present(),setTimeout(()=>{this.nav.navigate([this.referer])},1300)}))})}recordHelpRequest(){(0,p.D)(this.gps.getLocation()).pipe((0,h.w)(e=>this.api.post("/help",{location:{lat:e.lat,long:e.lon},referer:this.referer})),(0,u.K)(e=>(this.log.warn("help request not recorded",e),m.E))).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(a.fL),d.Y36(s.Br),d.Y36(_.h),d.Y36(Z.$),d.Y36(M.a),d.Y36(s.IN),d.Y36(g.F0),d.Y36(s.yF),d.Y36(l.ZT))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-help"]],decls:41,vars:29,consts:[["color","dark","fill","clear","slot","start",3,"click"],["slot","icon-only","name","arrow-back-outline"],[3,"fullscreen"],[1,"section-heading"],[1,"text-page-title","ion-text-wrap"],[1,"ion-margin","ion-padding","help-message"],[1,"text-page-subtitle"],[1,"section-contact-form"],["size","12","size-sm","6"],["lines","none",1,"field"],["name","name",3,"ngModel","placeholder","ngModelChange"],["name","email",3,"ngModel","placeholder","ngModelChange"],["name","subject",3,"ngModel","placeholder","ngModelChange"],["name","message",3,"ngModel","placeholder","ngModelChange"],["lines","none",1,"buttons"],["slot","end","size","large","color","secondary",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d._UZ(1,"app-header"),d.TgZ(2,"ion-toolbar"),d.TgZ(3,"ion-button",0),d.NdJ("click",function(){return t.back()}),d._UZ(4,"ion-icon",1),d.qZA(),d.qZA(),d.qZA(),d.TgZ(5,"ion-content",2),d.TgZ(6,"div",3),d.TgZ(7,"ion-label",4),d._uU(8),d.ALo(9,"translate"),d.qZA(),d.TgZ(10,"div",5),d.TgZ(11,"ion-text",6),d._uU(12),d.ALo(13,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"div",7),d.TgZ(15,"ion-grid"),d.TgZ(16,"ion-row"),d.TgZ(17,"ion-col",8),d.TgZ(18,"ion-title"),d._uU(19),d.ALo(20,"translate"),d.qZA(),d.qZA(),d.TgZ(21,"ion-col"),d.TgZ(22,"form"),d.TgZ(23,"ion-item",9),d.TgZ(24,"ion-input",10),d.NdJ("ngModelChange",function(e){return t.name=e}),d.ALo(25,"translate"),d.qZA(),d.qZA(),d.TgZ(26,"ion-item",9),d.TgZ(27,"ion-input",11),d.NdJ("ngModelChange",function(e){return t.email=e}),d.ALo(28,"translate"),d.qZA(),d.qZA(),d.TgZ(29,"ion-item",9),d.TgZ(30,"ion-input",12),d.NdJ("ngModelChange",function(e){return t.subject=e}),d.ALo(31,"translate"),d.qZA(),d.qZA(),d.TgZ(32,"ion-item",9),d.TgZ(33,"ion-textarea",13),d.NdJ("ngModelChange",function(e){return t.message=e}),d.ALo(34,"translate"),d.qZA(),d.qZA(),d.TgZ(35,"ion-item",14),d.TgZ(36,"ion-button",15),d.NdJ("click",function(){return t.send()}),d._uU(37),d.ALo(38,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(39,"ion-footer"),d._UZ(40,"app-footer"),d.qZA()),2&e&&(d.xp6(5),d.Q6J("fullscreen",!0),d.xp6(3),d.Oqu(d.lcZ(9,13,"Page_Help.Title")),d.xp6(4),d.Oqu(d.lcZ(13,15,"Page_Help.SubTitle")),d.xp6(7),d.Oqu(d.lcZ(20,17,"Page_Help.Form.Title")),d.xp6(5),d.Q6J("ngModel",t.name)("placeholder",d.lcZ(25,19,"Page_Help.Form.Name")),d.xp6(3),d.Q6J("ngModel",t.email)("placeholder",d.lcZ(28,21,"Page_Help.Form.Email")),d.xp6(3),d.Q6J("ngModel",t.subject)("placeholder",d.lcZ(31,23,"Page_Help.Form.Subject")),d.xp6(3),d.Q6J("ngModel",t.message)("placeholder",d.lcZ(34,25,"Page_Help.Form.Message")),d.xp6(4),d.Oqu(d.lcZ(38,27,"Page_Help.Form.Send")))},directives:[s.Gu,f.P,s.sr,s.YG,s.gu,s.W2,s.Q$,s.yW,s.jY,s.Nd,s.wI,s.wd,i._Y,i.JL,i.F,s.Ie,s.pK,s.j9,i.JJ,i.On,s.g2,s.fr,A.q],pipes:[T.X$],styles:[".section-heading[_ngcontent-%COMP%]{min-height:50vh}.section-heading[_ngcontent-%COMP%]   .text-page-title[_ngcontent-%COMP%]{display:block;position:relative;width:-moz-fit-content;width:fit-content;left:0;right:0;margin:0 auto;padding:20px 0 50px;border-bottom:2px solid var(--ion-color-dark);font-size:2.25em;font-weight:600}.section-heading[_ngcontent-%COMP%]   .help-message[_ngcontent-%COMP%]{padding:50px 0}.section-heading[_ngcontent-%COMP%]   .help-message[_ngcontent-%COMP%]   .text-page-subtitle[_ngcontent-%COMP%]{font-size:1.5em;font-weight:500}.section-contact-form[_ngcontent-%COMP%]{background:var(--ion-color-primary)}.section-contact-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{--background:#0000}.section-contact-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .section-contact-form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--background:var(--ion-color-secondary);--padding-start:5px}.section-contact-form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{--background:#0000}.section-contact-form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:20px;text-transform:none}"]}),e})();const b={FormTitle:"Page_Help.Form.Title",FormName:"Page_Help.Form.Name",FormEmail:"Page_Help.Form.Email",FormSubject:"Page_Help.Form.Subject",FormMessage:"Page_Help.Form.Message",Alert_Missing_Title:"Page_Help.Alert_Missing_Title",Alert_Missing_Message:"Page_Help.Alert_Missing_Message",Toast_Sent:"Page_Help.Toast_Sent",Button_OK:"Common.Button_OK"},q=[{path:"",component:P}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[g.Bz.forChild(q)],g.Bz]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.fL,o.ez,i.u5,s.Pc,r.K,l.ZT,C]]}),e})()}}]);